<mvc:View controllerName="code.cl3.n11.cl3cloudui04.controller.AccountView"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:t= "sap.ui.table"
    xmlns:f="sap.ui.layout.form">
    <Page id="page" title="{i18n>title}">

    <VBox>
    <Panel>

<!-- gateway 활용한 서비스 테이블-->
    <t:Table rows="{/AccountSet}"
             visibleRowCount="4" id="accountTable">
    <t:extension>
        <Title id = "account" text="Account Document"/>
    </t:extension>
    
    <t:columns>
        <t:Column >
            <Label text="Company code"/>
            <t:template>
                <Text text="{Bukrs}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Document number"/>
            <t:template>
                <Text text="{Belnr}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Fiscal Year"/>
            <t:template>
                <Text text="{Gjahr}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Document Type"/>
            <t:template>
                <Text text="{Blart}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Documnet Date"/>
            <t:template>
                <Text text="{Bldat}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Currency"/>
            <t:template>
                <Text text="{Waers}"/>
            </t:template>
        </t:Column>
    </t:columns>
    </t:Table>
    </Panel>

<!-- CRUD 위한 폼 -->
<Panel class="sapUiResponsiveMargin" width="660px">
    <MessageStrip text="CRUD Form"/>
    <OverflowToolbar >
        <ToolbarSpacer />
        <Button text="Display" type="Accept" icon="sap-icon://detail-view" press="onDisplay"/>
        <Button text="Create" type="Accept" icon="sap-icon://create" press="onCreate"/>
        <Button text="Update" type="Attention" icon="sap-icon://write-new-document" press="onUpdate"/>
        <Button text="Delete" type="Accept" icon="sap-icon://delete" press="onDelete"/>
    </OverflowToolbar>
    <f:SimpleForm>
        <f:content>
            <Label text="{/#AccountSet/Bukrs/@sap:label}"/>
            <Input id="bukrs" width="10rem"/>
            <Label text="{/#AccountSet/Belnr/@sap:label}"/>
            <Input id="belnr" width="10rem"/>
            <Label text="{/#AccountSet/Gjahr/@sap:label}"/>
            <Input id="gjahr" width="10rem"/>
            <Label text="{/#AccountSet/Blart/@sap:label}"/>
            <Input id="blart" width="10rem"/>
            <Label text="{/#AccountSet/Bldat/@sap:label}"/>
            <Input id="bldat" width="10rem"/>
            <Label text="{/#AccountSet/Waers/@sap:label}"/>
            <Input id="waers" width="10rem"/>
        </f:content>
    </f:SimpleForm>
    
</Panel>

    
<!-- cds view 활용한 서비스 테이블 -->    
    <Panel >
    <t:Table rows="{cds>/AccountSet}"
             visibleRowCount="4" >
    <t:extension>
        <Title id = "account2" text="Account Document2"/>
    </t:extension>
    
    <t:columns>
        <t:Column >
            <Label text="Company code"/>
            <t:template>
                <Text text="{cds>bukrs}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Document number"/>
            <t:template>
                <Text text="{cds>belnr}"/>
            </t:template>
        </t:Column>
        <t:Column >
            <Label text="Fiscal Year"/>
            <t:template>
                <Text text="{cds>gjahr}"/>
            </t:template>
        </t:Column>
        
            <t:Column>
                <Label text="Line Item"/>
                <t:template>
                    <Text text="{cds>buzei}"/>
                </t:template>
            </t:Column>

            <t:Column>
                <Label text="Currency"/>
                <t:template>
                    <Text text="{cds>waers}"/>
                </t:template>
            </t:Column>

            <!-- <t:Column>
                <Label text="Amount"/>
                <t:template>
                    <Text text="{cds>wrbtr}"/>
                </t:template>
            </t:Column> -->
            <t:Column width="10rem">
    <Label text="Amount"/>
    <t:template>
        <Text text="{
            parts: [
                { path: 'cds>wrbtr' },
                { path: 'cds>waers' }
            ],
            type: 'sap.ui.model.type.Currency',
            formatOptions: {
                showMeasure: true
            }
        }"/>
    </t:template>
    </t:Column>


            <t:Column>
                <Label text="Text"/>
                <t:template>
                    <Text text="{cds>sgtxt}"/>
                </t:template>
            </t:Column>
    </t:columns>
    </t:Table>

    </Panel>

    </VBox>
    
    </Page>
</mvc:View>